# 文件上传

## 前端实现

- 弹出一个局部页面
- 页面为上传文件页面
- 选择上传的文件，可以选择上传多个文件
- 点击上传按钮，开始上传文件
- 后端实现完成后，刷新页面，显示上传的文件，显示上传成功信息

## 后端实现

- 接收文件
- 获取当前文件夹id
- 获取文件信息
    - 文件名
    - 文件大小
    - 文件类型
- 将文件下载到files目录下
- 获取当前文件夹下的文件名
- 检测：文件重复，如果重复，在文件名后面加上(1)，如果还重复，加上(2)，以此类推
- 插入文件表，
    - 当前用户名，通过储存在浏览器cookie的JWT中获取
    - 文件id，利用uuid生成
    - 文件名，或重命名后的文件名
    - 文件大小
    - 文件类型
    - 文件储存在files文件夹下的路径
    - 文件创建时间
    - 当前文件隶属：文件夹的层级关系，
        - 获取：文件夹表，查询当前文件夹id => 文件夹层级
        - 再做修改：文件夹层级 + "-" +当前文件夹id
    - 文件是否被删除，默认为false
- 返回成功信息
- 最后，刷新页面，提供成功信息