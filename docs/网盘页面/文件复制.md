# 文件复制

## 单文件复制实现

### 前端实现

页面实现，与文件移动类似，主要是后端不同

### 后端实现

- 接收文件id，并获取到移动的目标文件夹id
- 验证JWT，获取用户id
- 在用户对应的文件视图表中，查询文件id是否存在
- 如果存在，说明这个文件是用户的文件，查询`文件路径`
- 再次查询目标文件夹id是否存在于，用户的文件夹视图表中
- 如果存在，说明这个文件夹也是用户的，获取目标文件夹的`文件夹的层级关系`
- 创建文件id，uuid生成
- 在服务器上，利用查询的`文件路径`，复制文件
- 然后利用uuid，复制文件为uuid文件名
- 也就是在文件表中，插入一条文件夹信息
- 与`文件上传的插入操作类似`，不再赘述

## 多文件复制实现

主要是后端，需要循环复制文件，文件id是多个