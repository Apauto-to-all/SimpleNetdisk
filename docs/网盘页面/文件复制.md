# 文件复制

## 单文件复制实现

### 前端实现

页面实现，与文件移动类似，主要是后端不同

### 后端实现

- 接收文件id，并获取到移动的目标文件夹id
- 验证JWT，获取用户id
- 在用户对应的文件视图表中，查询文件id是否存在
- 如果存在，说明这个文件是用户的文件，查询`文件路径`
- 再次查询目标文件夹id是否存在于，用户的文件夹视图表中
- 如果存在，说明这个文件夹也是用户的，获取目标文件夹的`文件夹的层级关系`
- ***注意***：由于用户上传的文件删除，使用文件夹是否被删除来判断文件是否被删除
- 在复制文件时，不会复制文件，只是创建一个新的文件表信息，文件路径还是原来的路径
- 也就是在文件表中，插入一条文件夹信息
- 与`文件上传的插入操作类似`，不再赘述

## 多文件复制实现

主要是后端，需要循环复制文件，文件id是多个
