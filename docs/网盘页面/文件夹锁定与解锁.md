# 文件夹的锁定与解锁

## 文件夹的锁定

### 前端实现

在文件夹右边有一个锁打开的图标，点击后会弹出一个对话框，输入密码后，文件夹会被锁定，图标变成锁闭合的图标。

### 后端实现

1. 获取文件夹的id和输入的密码
2. 验证JWT，获取用户id
3. 在用户对应的文件视图表中，查询文件夹id是否存在
4. 如果存在，说明这个文件夹是用户的文件夹
5. 更新文件夹表中，文件夹id对应的文件夹密码为输入的密码
6. 返回成功信息

## 文件夹锁定情况

1. 用户进入文件夹需要输入密码
2. 对文件夹进行删除，移动，复制，重命名，勾选等操作，需要先解锁

## 文件夹的解锁

### 前端实现

在文件夹右边有一个锁闭合的图标，点击后会弹出一个对话框，输入密码后，文件夹会被解锁，图标变成锁打开的图标。

### 后端实现

类似，更新文件夹表中，文件夹id对应的文件夹密码为空