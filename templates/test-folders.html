<!DOCTYPE html>
<html>

<head>
    <title>文件树</title>
    <style>
        .file::before {
            content: "📄 ";
        }

        .folder::before {
            content: "📁 ";
        }
    </style>
</head>

<body>
    <div id="file-tree"></div>

    <script>
        // 获取文件树的数据
        fetch('/file_tree')
            .then(response => response.json())
            .then(data => {
                // 生成文件树
                const fileTree = document.getElementById('file-tree');
                fileTree.innerHTML = generateFileTree(data);
            });

        // 生成文件树的 HTML
        function generateFileTree(data, level = 0) {
            let html = '';
            for (const name in data) {
                const item = data[name];
                if (item === null) {
                    // 文件
                    html += '<div class="file" style="margin-left: ' + (level * 20) + 'px;">' + name + '</div>';
                } else {
                    // 文件夹
                    html += '<div class="folder" style="margin-left: ' + (level * 20) + 'px;">' + name + '</div>';
                    html += generateFileTree(item, level + 1);
                }
            }
            return html;
        }
    </script>
</body>

</html>