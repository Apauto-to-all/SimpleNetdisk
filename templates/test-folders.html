<!DOCTYPE html>
<html>

<head>
    <title>æ–‡ä»¶æ ‘</title>
    <style>
        .file::before {
            content: "ğŸ“„ ";
        }

        .folder::before {
            content: "ğŸ“ ";
        }
    </style>
</head>

<body>
    <div id="file-tree"></div>

    <script>
        // è·å–æ–‡ä»¶æ ‘çš„æ•°æ®
        fetch('/file_tree')
            .then(response => response.json())
            .then(data => {
                // ç”Ÿæˆæ–‡ä»¶æ ‘
                const fileTree = document.getElementById('file-tree');
                fileTree.innerHTML = generateFileTree(data);
            });

        // ç”Ÿæˆæ–‡ä»¶æ ‘çš„ HTML
        function generateFileTree(data, level = 0) {
            let html = '';
            for (const name in data) {
                const item = data[name];
                if (item === null) {
                    // æ–‡ä»¶
                    html += '<div class="file" style="margin-left: ' + (level * 20) + 'px;">' + name + '</div>';
                } else {
                    // æ–‡ä»¶å¤¹
                    html += '<div class="folder" style="margin-left: ' + (level * 20) + 'px;">' + name + '</div>';
                    html += generateFileTree(item, level + 1);
                }
            }
            return html;
        }
    </script>
</body>

</html>